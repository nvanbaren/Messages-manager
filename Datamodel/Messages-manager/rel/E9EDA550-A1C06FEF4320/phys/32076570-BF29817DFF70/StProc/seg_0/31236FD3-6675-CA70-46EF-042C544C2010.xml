<?xml version = '1.0' encoding = 'UTF-8'?>
<StoredProcedureOraclev10g class="oracle.dbtools.crest.model.design.storage.oracle.v10g.StoredProcedureOraclev10g" name="ADD_MESSAGES" directorySegmentName="seg_0" id="31236FD3-6675-CA70-46EF-042C544C2010">
<sourceConnName>Message translations</sourceConnName>
<sourceObjSchema>MESSAGE_OWNER</sourceObjSchema>
<sourceObjName>ADD_MESSAGES</sourceObjName>
<createdBy>nicolette</createdBy>
<createdTime>2015-07-12 17:07:15 UTC</createdTime>
<ownerDesignName>Messages-manager</ownerDesignName>
<owner>C9836D5C-BFA7-DD60-9FE3-BFA211ED4B79</owner>
<source>CREATE OR REPLACE procedure MESSAGE_OWNER.ADD_MESSAGES (p_application_id in number&lt;br/&gt;                                         ,p_language       in varchar2&lt;br/&gt;                                         ,p_workspace      in varchar2&lt;br/&gt;                                         )&lt;br/&gt;as &lt;br/&gt;  c_apex_schema varchar2(30) := &apos;APEX_040200&apos;; &lt;br/&gt;  cursor c_met(b_language in varchar2&lt;br/&gt;              ,b_application_id in number&lt;br/&gt;              )&lt;br/&gt;  is&lt;br/&gt;    select met.name&lt;br/&gt;    ,      met.translation&lt;br/&gt;    from   message_translations met&lt;br/&gt;    where  met.language = b_language&lt;br/&gt;    and not exists (select &apos;&apos;&lt;br/&gt;                    from   wwv_flow_messages$ mes&lt;br/&gt;                    where  mes.flow_id = b_application_id&lt;br/&gt;                    and    mes.name = met.name&lt;br/&gt;                   )&lt;br/&gt;    ;&lt;br/&gt;    &lt;br/&gt;    v_dll                      varchar2(100);&lt;br/&gt;begin&lt;br/&gt;  v_dll := &apos;alter session set current_schema=&quot;&apos;||c_apex_schema||&apos;&quot;&apos;;&lt;br/&gt;  execute immediate v_dll;&lt;br/&gt;  wwv_flow_api.set_security_group_id(apex_util.find_security_group_id(p_workspace));&lt;br/&gt;  &lt;br/&gt;  for r_met in c_met(p_language,p_application_id)&lt;br/&gt;  loop&lt;br/&gt;    wwv_flow_api.create_message (&lt;br/&gt;      p_flow_id =&gt; p_application_id,&lt;br/&gt;      p_name =&gt; r_met.name,&lt;br/&gt;      p_message_language =&gt; p_language,&lt;br/&gt;      p_message_text =&gt; r_met.translation&lt;br/&gt;    );&lt;br/&gt;  end loop;&lt;br/&gt;  commit;&lt;br/&gt;end add_messages;</source>
<body>CREATE OR REPLACE procedure MESSAGE_OWNER.ADD_MESSAGES (p_application_id in number&lt;br/&gt;                                         ,p_language       in varchar2&lt;br/&gt;                                         ,p_workspace      in varchar2&lt;br/&gt;                                         )&lt;br/&gt;as &lt;br/&gt;  c_apex_schema varchar2(30) := &apos;APEX_040200&apos;; &lt;br/&gt;  cursor c_met(b_language in varchar2&lt;br/&gt;              ,b_application_id in number&lt;br/&gt;              )&lt;br/&gt;  is&lt;br/&gt;    select met.name&lt;br/&gt;    ,      met.translation&lt;br/&gt;    from   message_translations met&lt;br/&gt;    where  met.language = b_language&lt;br/&gt;    and not exists (select &apos;&apos;&lt;br/&gt;                    from   wwv_flow_messages$ mes&lt;br/&gt;                    where  mes.flow_id = b_application_id&lt;br/&gt;                    and    mes.name = met.name&lt;br/&gt;                   )&lt;br/&gt;    ;&lt;br/&gt;    &lt;br/&gt;    v_dll                      varchar2(100);&lt;br/&gt;begin&lt;br/&gt;  v_dll := &apos;alter session set current_schema=&quot;&apos;||c_apex_schema||&apos;&quot;&apos;;&lt;br/&gt;  execute immediate v_dll;&lt;br/&gt;  wwv_flow_api.set_security_group_id(apex_util.find_security_group_id(p_workspace));&lt;br/&gt;  &lt;br/&gt;  for r_met in c_met(p_language,p_application_id)&lt;br/&gt;  loop&lt;br/&gt;    wwv_flow_api.create_message (&lt;br/&gt;      p_flow_id =&gt; p_application_id,&lt;br/&gt;      p_name =&gt; r_met.name,&lt;br/&gt;      p_message_language =&gt; p_language,&lt;br/&gt;      p_message_text =&gt; r_met.translation&lt;br/&gt;    );&lt;br/&gt;  end loop;&lt;br/&gt;  commit;&lt;br/&gt;end add_messages;</body>
</StoredProcedureOraclev10g>